<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="./css/list.css">
</head>

<body>
    <div class="wrap">
        <div class="header">
            标题信息
        </div>
        <div class="nav-bar">
            <div class="search">
                <input type="text" class="user-search">
                <button class="submit">搜索</button>
            </div>
            <ul>
                <li>item
                </li>
                <li>item2</li>
                <li>item3</li>
                <li>item4</li>
                <li>item5</li>
                <li>item6</li>
                <li>item7</li>
                <li>item8</li>
            </ul>

            <div class="con">
                <dl>
                    <dt>
                        <img src="./img/1.jpg" alt="">
                    </dt>
                    <dd>
                        <p>描述信息</p>
                        <p>1400$</p>
                    </dd>
                </dl>
                <dl>
                    <dt>
                        <img src="./img/2.jpg" alt="">
                    </dt>
                    <dd>
                        <p>描述信息</p>
                        <p>1400$</p>
                    </dd>
                </dl>
                <dl>
                    <dt>
                        <img src="./img/3.jpg" alt="">
                    </dt>
                    <dd>
                        <p>描述信息</p>
                        <p>1400$</p>
                    </dd>
                </dl>
                <dl>
                    <dt>
                        <img src="./img/3.jpg" alt="">
                    </dt>
                    <dd>
                        <p>描述信息</p>
                        <p>1400$</p>
                    </dd>
                </dl>
                <dl>
                    <dt>
                        <img src="./img/3.jpg" alt="">
                    </dt>
                    <dd>
                        <p>描述信息</p>
                        <p>1400$</p>
                    </dd>
                </dl>
            </div>
        </div>
        <div class="sort">
            <span class="price" flag="0">按照价格排序↑</span>
        </div>
        <div class="content">
            <dl>
                <dt>
                    <img src="img/1.jpg" alt="">
                    <div class="buy">
                        <button>立即购买</button>
                    </div>
                </dt>

                <dd>
                    <p>锤子手机</p>
                    <p>2000$</p>
                </dd>
                <ul>
                    <li><img src="img/1.jpg" alt=""></li>
                    <li><img src="img/2.jpg" alt=""></li>
                    <li><img src="img/3.jpg" alt=""></li>
                    <li><img src="img/4.jpg" alt=""></li>
                </ul>
            </dl>
            <dl>
                <dt>
                    <img src="img/1.jpg" alt="">
                </dt>
                <dd>
                    <p>锤子手机</p>
                    <p>2000$</p>
                </dd>
                <ul>
                    <li><img src="img/1.jpg" alt=""></li>
                    <li><img src="img/2.jpg" alt=""></li>
                    <li><img src="img/3.jpg" alt=""></li>
                    <li><img src="img/4.jpg" alt=""></li>
                </ul>
            </dl>
            <dl>
                <dt>
                    <img src="img/1.jpg" alt="">
                </dt>
                <dd>
                    <p>锤子手机</p>
                    <p>2000$</p>
                </dd>
                <ul>
                    <li><img src="img/1.jpg" alt=""></li>
                    <li><img src="img/2.jpg" alt=""></li>
                    <li><img src="img/3.jpg" alt=""></li>
                    <li><img src="img/4.jpg" alt=""></li>
                </ul>
            </dl>
            <dl>
                <dt>
                    <img src="img/1.jpg" alt="">
                </dt>
                <dd>
                    <p>锤子手机</p>
                    <p>2000$</p>
                </dd>
                <ul>
                    <li><img src="img/1.jpg" alt=""></li>
                    <li><img src="img/2.jpg" alt=""></li>
                    <li><img src="img/3.jpg" alt=""></li>
                    <li><img src="img/4.jpg" alt=""></li>
                </ul>
            </dl>
            <dl>
                <dt>
                    <img src="img/1.jpg" alt="">
                </dt>
                <dd>
                    <p>锤子手机</p>
                    <p>2000$</p>
                </dd>
                <ul>
                    <li><img src="img/1.jpg" alt=""></li>
                    <li><img src="img/2.jpg" alt=""></li>
                    <li><img src="img/3.jpg" alt=""></li>
                    <li><img src="img/4.jpg" alt=""></li>
                </ul>
            </dl>
            <dl>
                <dt>
                    <img src="img/1.jpg" alt="">
                </dt>
                <dd>
                    <p>锤子手机</p>
                    <p>2000$</p>
                </dd>
                <ul>
                    <li><img src="img/1.jpg" alt=""></li>
                    <li><img src="img/2.jpg" alt=""></li>
                    <li><img src="img/3.jpg" alt=""></li>
                    <li><img src="img/4.jpg" alt=""></li>
                </ul>
            </dl>
            <dl>
                <dt>
                    <img src="img/1.jpg" alt="">
                </dt>
                <dd>
                    <p>锤子手机</p>
                    <p>2000$</p>
                </dd>
                <ul>
                    <li><img src="img/1.jpg" alt=""></li>
                    <li><img src="img/2.jpg" alt=""></li>
                    <li><img src="img/3.jpg" alt=""></li>
                    <li><img src="img/4.jpg" alt=""></li>
                </ul>
            </dl>
            <dl>
                <dt>
                    <img src="img/1.jpg" alt="">
                </dt>
                <dd>
                    <p>锤子手机</p>
                    <p>2000$</p>
                </dd>
                <ul>
                    <li><img src="img/1.jpg" alt=""></li>
                    <li><img src="img/2.jpg" alt=""></li>
                    <li><img src="img/3.jpg" alt=""></li>
                    <li><img src="img/4.jpg" alt=""></li>
                </ul>
            </dl>
            <dl>
                <dt>
                    <img src="img/1.jpg" alt="">
                </dt>
                <dd>
                    <p>锤子手机</p>
                    <p>2000$</p>
                </dd>
                <ul>
                    <li><img src="img/1.jpg" alt=""></li>
                    <li><img src="img/2.jpg" alt=""></li>
                    <li><img src="img/3.jpg" alt=""></li>
                    <li><img src="img/4.jpg" alt=""></li>
                </ul>
            </dl>
            <dl>
                <dt>
                    <img src="img/1.jpg" alt="">
                </dt>
                <dd>
                    <p>锤子手机</p>
                    <p>2000$</p>
                </dd>
                <ul>
                    <li><img src="img/1.jpg" alt=""></li>
                    <li><img src="img/2.jpg" alt=""></li>
                    <li><img src="img/3.jpg" alt=""></li>
                    <li><img src="img/4.jpg" alt=""></li>
                </ul>
            </dl>
        </div>
        <ul class="page">
            <li class="active">1</li>
            <li>2</li>
            <li>3</li>
            <li>4</li>
            <li>5</li>
            <li>6</li>
            <li>7</li>
            <li>8</li>
            <li>9</li>
            <li>10</li>
        </ul>
    </div>
    <script src="./lib/require.js"></script>
    <script src="./setting.js"></script>
    <script>
        require(["d1", "navBar", "$", "listData", "filter", "page"], function (d1, NavBar, $, d2, Filter, Page) {
            console.log(d2)
            // 二级菜单
            new NavBar({
                data: d1,
                ul: $.get(".nav-bar>ul"),
                con: $.get(".nav-bar>.con"),
                navBar: $.get(".nav-bar")
            })
            // 数据筛选 包含模糊搜索和排序
            new Filter({
                data: d2,
                userSearch: $.get(".user-search"),
                submit: $.get(".submit"),
                content: $.get(".content"),
                price: $.get(".sort .price")
            })
            // 分页器
            new Page({
                data: d2,
                content: $.get(".content"),
                page: $.get(".page"),
                num: 8,
                index: 2,
            })





            $.get(".content").addEventListener("click", function (e) {
                var tar = e.target;
                if (tar.nodeName === "IMG") {
                    tar.parentNode.parentNode.querySelector(".active") && tar.parentNode.parentNode.querySelector(".active").classList.remove("active")
                    tar.classList.add("active")
                    tar.parentNode.parentNode.parentNode.querySelector("img").src = tar.src
                }

                if (tar.nodeName === "BUTTON") {
                    var url = tar.parentNode.previousElementSibling.src;
                    var title = tar.parentNode.parentNode.nextElementSibling.children[0].innerHTML;
                    var price = parseInt(tar.parentNode.parentNode.nextElementSibling.children[1].innerHTML);
                    location.href = `./detail.html?url=${url}&title=${title}&price=${price}`
                }
            })

        })
    </script>
</body>

</html>